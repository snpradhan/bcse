{% extends "bcse_app/base.html" %}
{% load bcse_extras %}

{% block content %}
  {{block.super}}
  <div class="content">
    <div class="workshops_container container">
      <h1 class="center"> Workshops </h1>
      {% include "bcse_app/WorkshopsButtons.html" with format='list' %}
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th> Workshop ID</th>
            <th> Workshop Type </th>
            <th> Name </th>
            <th> Start Date </th>
            <th> End Date </th>
            <th> Location </th>
            <th> Registration Enabled? </th>
            <th> Status </th>
            <th> Created Date</th>
            <th> Modified Date </th>
            {% if user.is_authenticated and user.userProfile.user_role in 'AS' %}
              <th> Actions </th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for workshop_obj in workshop_list %}
            {% with workshop=workshop_obj.workshop registration=workshop_obj.registration %}
            <tr>
              <td> {{workshop.id}}</td>
              <td> {{workshop.workshop_category}} </td>
              <td> <a href="{% url 'bcse:workshopView' workshop.id %}">{{workshop.name}}</a> </td>
              <td> {{workshop.start_date|date}}</td>
              <td> {{workshop.end_date|date}}</td>
              <td> {{workshop.location}} </td>
              <td> {{workshop.enable_registration|yesno}} </td>
              <td> {{workshop.get_status_display}} </td>
              <td> {{workshop.created_date|date}} </td>
              <td> {{workshop.modified_date|date}} </td>
              {% if user.is_authenticated and user.userProfile.user_role in 'AS' %}
                <td>
                  <a class="btn btn-success" role="button" href="{% url 'bcse:workshopEdit' workshop.id %}">Edit</a>
                </td>
              {% endif %}
            </tr>
            {% endwith %}
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endblock %}

{% load base_extras %}
{% load bcse_extras %}
{% load compress %}
<html>
  <head>
    {% block media %}
      {% block jquery %}
        <!-- jQuery library -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
      {% endblock %}

      {% block js %}
        <script src="https://kit.fontawesome.com/e8f42db089.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>
        <script type="text/javascript" src="{% staticfile 'js/modal.js' %}"></script>
        <script type="text/javascript" src="{% staticfile 'js/bcse.js' %}"></script>
      {% endblock %}

      {% block css %}
        <link rel="stylesheet" href="https://use.typekit.net/bkp5oip.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        {% compress css %}
          <link type="text/less" rel="stylesheet" href="{% staticfile 'less/style.less' %}" media="screen" charset="utf-8"/>
        {% endcompress %}
      {% endblock %}
    {% endblock %}
  </head>



  <body id="page-top" class="index">
    <header>
      {% block header %}
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'bcse:home' %}">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item {% navactive request 'bcse:home' %}">
                  <a class="nav-link" aria-current="page" href="{% url 'bcse:home' %}">Home</a>
                </li>
                <li class="nav-item dropdown {% navactive request 'bcse:workshops' 'list' %} {% navactive request 'bcse:workshops' 'table' %}">
                  <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">Professional Learning</a>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li class="{% navactive request 'bcse:workshops' 'list' %}"><a class="dropdown-item" href="{% url 'bcse:workshops' 'list' %}">Workshops</a></li>
                    {% if user.is_authenticated and user.userProfile.user_role not in 'AS' %}
                    <li class="{% navactive request 'bcse:workshops' 'table' %}">
                      <a class="dropdown-item" href="{% url 'bcse:workshops' 'table' %}">My Workshops</a>
                    </li>
                    {% endif %}
                  </ul>
                </li>
                <li class="nav-item dropdown {% navactive request 'bcse:reservations' %}">
                  {% with new_message_count=user.userProfile|get_all_reservations_new_message_count %}
                  <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                    Baxter Box Program
                    {% if new_message_count %}
                      <span class="badge rounded-pill bg-danger">{{new_message_count}}</span>
                    {% endif %}
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li class="{% navactive request 'bcse:baxterBoxInfo' %}">
                      <a class="dropdown-item" href="{% url 'bcse:baxterBoxInfo' %}">Make a Reservation</a>
                    </li>
                    <li class="{% navactive request 'bcse:classroomSupport' %}">
                      <a class="dropdown-item" href="{% url 'bcse:classroomSupport' %}">Get Support</a>
                    </li>
                    {% if user.is_authenticated %}
                      <li class="{% navactive request 'bcse:reservations' %}">
                        <a class="dropdown-item" href="{% url 'bcse:reservations' %}">
                          {% if user.userProfile.user_role not in 'AS' %}
                            My Reservations
                          {% else %}
                            User Reservations
                          {% endif %}
                          {% if new_message_count %}
                            <span class="badge rounded-pill bg-danger">{{new_message_count}}</span>
                          {% endif %}
                        </a>
                      </li>
                      {% if user.userProfile.user_role in 'AS' %}
                        <li class="{% navactive request 'bcse:baxterBoxUsageReport' %}">
                          <a class="dropdown-item" href="{% url 'bcse:baxterBoxUsageReport' %}">
                            Baxter Box Usage Report
                          </a>
                        </li>
                      {% endif %}
                    {% endif %}
                  </ul>
                  {% endwith %}
                </li>
                <li class="nav-item">
                  <a class="nav-link">Student Programs</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link">About Us</a>
                </li>
                {% if user.is_authenticated %}
                  {% if user.userProfile.user_role == 'A' or  user.userProfile.user_role == 'S' %}
                    <li class="{% navactive request 'bcse:adminConfiguration' %}">
                      <a class="dropdown-item" href="{% url 'bcse:adminConfiguration' %}">Admin Configuration</a>
                    </li>
                  {% endif %}
                {% endif %}
                {% if user.is_anonymous %}
                  <li class="nav-item">
                    <a class="nav-link signin modal-open" data-bs-toggle="modal" data-bs-target="#signin" data-href="{% url 'bcse:signin' %}" href="#">Sign In/Sign Up</a>
                  </li>
                {% else %}
                  <li class="nav-item dropdown {% navactive request 'bcse:userProfileView' user.userProfile.id %}">
                    <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                      {{user.get_full_name}}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                      <li class="{% navactive request 'bcse:userProfileView' user.userProfile.id %}">
                        <a class="dropdown-item" href="{% url 'bcse:userProfileView' user.userProfile.id %}">My Profile</a>
                      </li>
                      <li class="{% navactive request 'bcse:signout' %}">
                        <a class="dropdown-item" href="{% url 'bcse:signout' %}">Sign Out</a>
                      </li>
                    </ul>
                  </li>
                {% endif %}
              </ul>
            </div>
          </div>
        </nav>

        <div class="anniversary_banner">Fostering Tomorrow's Innovators since 2009</div>

        <ul class="messages bg-light-gray">
          {% if messages %}
            <i class="far fa-times-circle"></i>
          {% endif %}
          {% for message in messages %}
            {% if not message.extra_tags or message.extra_tags != 'modal_message' %}
              <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|safe }}</li>
            {% endif %}
          {% endfor %}
        </ul>

      {% endblock %}
    </header>


    {% block content %}
    {% endblock %}

    {% block modals %}
      <div class="modal" id="notification" role="dialog">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h3 class="left">Notification</h3>
            </div>
            <div class="modal-body">
              <p></p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal" id="warning" role="dialog">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h3 class="left">Warning</h3>
            </div>
            <div class="modal-body">
              <p class="warning"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal" id="confirmation" role="dialog">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h3 class="left">Warning</h3>
            </div>
            <div class="modal-body">
              <p class="confirmation"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal" id="signin" role="dialog"  data-bs-keyboard="false"></div>
      <div class="modal" id="signup" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false"></div>
      <div class="modal" id="workshop_registration" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false"></div>
      <div class="modal" id="password" role="dialog"></div>
      <div class="modal" id="kit" role="dialog"></div>
      <div class="modal" id="profile" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false"></div>
      <div class="modal" id="validate" role="dialog"></div>
      <div class="modal" id="users_upload" role="dialog"></div>
    {% endblock %}

    <footer>
      {% block footer %}
        <div class="partners">
          <div class="partner baxter">
            <img src="{% staticfile 'img/baxter_foundation.png' %}">
          </div>
          <div class="partner ocep">
            <img src="{% staticfile 'img/OCEP.png' %}">
          </div>
          <div class="partner lmsa">
            <img src="{% staticfile 'img/LMSA_logo.png' %}">
          </div>
          <div class="partner rlhs">
            <img src="{% staticfile 'img/RLHS_logo.jpg' %}">
          </div>
        </div>
        <div class="credits">
            <div class="credit copyright left">© 2009 - 2022 Northwestern University. All Rights Reserved </div>
            <div class="credit terms center"> <a href="/terms-use">Terms of Use</a></div>
            <!-- Social Links -->
            <div class="credit social right">
              <a class="fb" href="https://www.facebook.com/bcse.nu/" target="_blank" rel="me">
                <i class="fa fa-facebook" aria-hidden="true"></i>
              </a>
              <a class="twitter" href="https://twitter.com/BCSE_NU" target="_blank" rel="me">
                <i class="fa fa-twitter" aria-hidden="true"></i>
              </a>
              <a class="instagram" href="https://www.instagram.com/bcse_nu/" target="_blank" rel="me">
                <i class="fa fa-instagram" aria-hidden="true"></i>
              </a>
              <!--a class="gplus" href="" target="_blank" rel="me"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
              <a class="linkedin" href="" target="_blank" rel="me"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
              <a class="pinterest" href="" target="_blank" rel="me"><i class="fa fa-pinterest" aria-hidden="true"></i></a>
              <a class="youtube" href="" target="_blank" rel="me"><i class="fa fa-youtube" aria-hidden="true"></i></a-->
            </ul>
          </div>
        </div>
      {% endblock %}
    </footer>
  </body>
</html>

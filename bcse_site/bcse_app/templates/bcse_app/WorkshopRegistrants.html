{% extends "bcse_app/base.html" %}
{% load bcse_extras %}

{% block content %}
  {{block.super}}
  <div class="content">
    <div class="workshop_container container">
      <h1 class="center"> {{workshop.name}}</h1>
      {% include "bcse_app/WorkshopTabs.html" with tab='registrants' %}
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th> Registration ID</th>
            <th> User ID </th>
            <th> Username </th>
            <th> Email </th>
            <th> Full Name </th>
            <th> Created Date </th>
            <th> Status </th>
            <th> Action </th>
          </tr>
        </thead>
        <tbody>
          {% for registrant in workshop.registration_setting.workshop_registrants.all %}
            <tr>
              <td> {{registrant.id}}</td>
              <td> {{registrant.user.id}}</td>
              <td> {{registrant.user.user.username}} </td>
              <td> {{registrant.user.user.email}} </td>
              <td> {{registrant.user.user.get_full_name}}</td>
              <td> {{registrant.created_date|date}}</td>
              <td> {{registrant.get_status_display}} </td>
              <td width="15%">
                <a role="button" class="btn btn-small registration_edit modal-open" data-bs-toggle="modal" data-bs-target="#workshop_registration" data-href="{% url 'bcse:workshopRegistrationEdit' workshop.id registrant.id %}" href="#">Edit</a>
                <a role="button" class="btn btn-small btn-danger registration_delete" href="{% url 'bcse:workshopRegistrationDelete' workshop.id registrant.id %}">Delete</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
